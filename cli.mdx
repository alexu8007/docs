---
title: "CLI"
description: "Complete reference for the Polarity CLI - stack PRs with AI polish."
icon: "terminal"
---

# Polarity CLI

The Polarity CLI keeps your workflow inside the terminal. Stack pull requests with Claude Code polish. Move fast with tidy commits and focused reviews.

<Info>
  **Current Version:** v0.0.24
</Info>

---

## Installation

<Steps>
  <Step title="Prerequisites">
    Ensure Homebrew is installed on your system
  </Step>
  
  <Step title="Install Polarity CLI">
    ```bash
    brew install polarityinc/polarity/polarity
    ```
    
    Verify installation:
    ```bash
    pt --version
    ```
  </Step>
</Steps>

---

## Authentication

Connect your GitHub account to start using Polarity.

<Steps>
  <Step title="Get Your API Key">
    Visit [home.polarity.cc/dashboard](https://home.polarity.cc/dashboard) and click API key button to copy
  </Step>
  
  <Step title="Login with Token">
    Run the following command in your terminal:
    
    ```bash
    pt auth login --token <your-token>
    ```
  </Step>
</Steps>

<Check>
  You only need to authenticate once!
</Check>

---

## Key Concepts

Before diving into commands, understand these core concepts:

| Concept | Definition |
|---------|------------|
| **stack** | Sequence of PRs where each builds on its parent |
| **trunk** | The branch your stack eventually merges into (usually main/master) |
| **downstack** | Ancestors below the current branch in the stack |
| **upstack** | Descendants above the current branch in the stack |

---

## Quick Start Commands

Essential commands to get you started with Polarity stacks.

### Initialize Repository

```bash
pt init
```

Configure your repository for Polarity. Run this once per repo to set up stack management.

### Create Branch & Commit

```bash
pt create    # or: pt c
```

Create a new branch and commit your staged changes. This adds a new layer to your stack.

### Submit to GitHub

```bash
pt submit         # or: pt sub
```

Submit the current branch to GitHub as a pull request.

```bash
pt submit --stack # or: pt ss
```

Submit your entire stack in one go - opens multiple PRs maintaining dependencies.

---

## Stack Management

Commands for managing your PR stack structure.

### Restack

```bash
pt restack    # or: pt rs
```

Rebase each PR in your stack onto trunk. Keeps your stack up-to-date with the latest changes.

### Sync

```bash
pt sync
```

Comprehensive sync operation - syncs trunk, rebases branches, and cleans stale refs.

### Log

```bash
pt log    # or: pt l, pt ls, pt ll
```

Visualize your stack as an ASCII graph. See the entire structure of your PR dependencies.

<Tip>
  Use `pt log` frequently to understand your current stack structure!
</Tip>

---

## Stack Navigation

Move between branches in your stack quickly.

<CardGroup cols={2}>
  <Card title="pt up" icon="arrow-up">
    Navigate up the stack (to child branch)
    
    ```bash
    pt up    # or: pt u
    ```
  </Card>
  
  <Card title="pt down" icon="arrow-down">
    Navigate down the stack (to parent branch)
    
    ```bash
    pt down    # or: pt d
    ```
  </Card>
  
  <Card title="pt top" icon="arrow-up-to-line">
    Navigate to top of stack
    
    ```bash
    pt top    # or: pt t
    ```
  </Card>
  
  <Card title="pt bottom" icon="arrow-down-to-line">
    Navigate to bottom of stack
    
    ```bash
    pt bottom    # or: pt b, pt bot
    ```
  </Card>
</CardGroup>

### Interactive Checkout

```bash
pt checkout    # or: pt co
```

Interactively switch to any branch in your stack with a visual selector.

---

## Branch Information

### Info

```bash
pt info    # or: pt i
```

Show detailed information about the current branch including position in stack and PR status.

### Delete

```bash
pt delete    # or: pt del
```

Safely delete a branch from your stack.

---

## AI-Powered Features

Leverage AI to improve your code and workflow.

### Refine PR

```bash
pt refine
```

Select a PR from the current repository to refine with AI. Polarity analyzes the changes and suggests improvements.

### Generate Unit Tests

```bash
pt unittest    # or: pt ut
```

Generate unit tests using AI based on your code diffs. Automatically create test coverage for your changes.

### Smart Commit

```bash
pt shove
```

Stage all changes, generate an AI-powered commit message, and push upstream - all in one command.

<Tip>
  `pt shove` is perfect when you want to commit quickly with a well-formatted message!
</Tip>

---

## Commit Management

Commands for working with commits in your stack.

### Modify Commit

```bash
pt modify    # or: pt m, pt mod
```

Amend the current commit or create a new commit interactively.

### Squash

```bash
pt squash    # or: pt sq
```

Squash multiple commits in the current branch into one.

### Move Commits

```bash
pt move    # or: pt mv
```

Move commits between branches in your stack.

### Rewind

```bash
pt rewind
```

Stash all changes and reset to the last commit. Useful for starting over while preserving work.

---

## Conflict Resolution

### Continue

```bash
pt continue    # or: pt cont
```

Continue the current operation after resolving merge conflicts.

---

## Repository Management

### Add Repository

```bash
pt add
```

Add the current repository to your Polarity catalog for tracking and refinement.

### Merge

```bash
pt merge
```

Merge all PRs from trunk into the current branch.

---

## Getting Help

### Help Command

```bash
pt help
```

View the complete in-tool reference and available commands.

### Feedback

```bash
pt feedback
```

Send feedback directly to the Polarity team.

---

## Troubleshooting

<Warning>
  **CLI not working?**
  
  1. Restart your terminal session
  2. Run `pt auth login --token <your-token>` to re-authenticate
  3. Verify your token is valid
  4. Check you're in a git repository
</Warning>

If issues persist, reach out to [support@polarity.cc](mailto:support@polarity.cc) with your CLI output.
