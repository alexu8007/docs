---
title: "Context & Rules"
description: "Configure repository contexts and custom rules to guide Polarity's AI optimizations."
icon: "file-code"
---

# Context & Rules

Configure how Polarity's AI understands and optimizes your code by setting repository-specific contexts and custom rules. This ensures optimizations align with your team's standards and project requirements.

<Frame caption="Learn how to configure context and rules for better AI optimizations">
  <iframe
    className="w-full aspect-video rounded-xl"
    src="https://www.youtube.com/embed/Vezj6ZFUkcU"
    title="Context Page Demo"
    frameBorder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowFullScreen
  ></iframe>
</Frame>

## Accessing Context & Rules

Navigate to Dashboard â†’ Context to manage your optimization contexts and rules.

## Types of Configuration

### Guided Context
Step-by-step configuration for common project types:
- Answer questions about your project
- Select from predefined options
- Polarity creates optimal rules automatically

### Custom Rules
Create specific rules for your unique requirements:
- Write custom instructions
- Target specific file patterns
- Define exact behaviors

## Adding Guided Context

<Steps>
<Step title="Click Add Context">
Select "Add Context" button on the Context page
</Step>
<Step title="Choose Repository">
Select a specific repository or apply to all repositories
</Step>
<Step title="Configure Project Settings">
Answer questions about your project type and preferences
</Step>
<Step title="Set Quality Standards">
Define documentation, security, and performance priorities
</Step>
<Step title="Save Configuration">
Save to apply context to future optimizations
</Step>
</Steps>

### Project Configuration Options

**Project Type**
- Web Application
- API/Backend Service
- Library/Package
- Mobile Application
- Desktop Application
- Microservice
- CLI Tool
- Custom (specify your own)

**Testing Framework**
- Jest, Vitest, Mocha, Jasmine
- Cypress (E2E), Playwright (E2E)
- Testing Library
- No Testing Framework
- Custom (specify your own)

**Code Style Preference**
- Strict - Enforce all best practices
- Standard - Common conventions
- Relaxed - Flexible approach
- Airbnb Style Guide
- Google Style Guide
- Custom (specify your own)

**Linting Preferences**
- ESLint - Strict Rules
- ESLint - Recommended
- Prettier + ESLint
- TypeScript Strict Mode
- Minimal Linting
- No Linting
- Custom (specify your own)

### Quality & Standards Options

**Documentation Level**
- Comprehensive - All functions documented
- Public APIs Only
- Complex Logic Only
- Minimal Documentation
- README Only
- Custom requirements

**Security Level**
- Enterprise - Maximum security
- High - Strict security practices
- Standard - Common security practices
- Basic - Minimal requirements
- Internal Tool - Relaxed security
- Custom requirements

**Performance Priority**
- Critical - Performance first
- High - Important consideration
- Balanced - Performance vs readability
- Low - Readability first
- Not Applicable
- Custom requirements

## Creating Custom Rules

Custom rules give you precise control over optimizations:

<Steps>
<Step title="Click Custom Rule">
Select "Custom Rule" button on the Context page
</Step>
<Step title="Select Repository">
Choose target repository or apply globally
</Step>
<Step title="Write Your Rule">
Enter specific instructions for the AI
</Step>
<Step title="Set File Patterns">
Optionally target specific files (e.g., *.js, src/**/*.ts)
</Step>
<Step title="Save Rule">
Save to apply to future optimizations
</Step>
</Steps>

### Writing Effective Custom Rules

**Good Rule Examples**:
```
"Always use async/await instead of .then() promises for better readability and error handling"

"Prefer functional components over class components in React"

"Use descriptive variable names with at least 3 characters, except for loop indices"

"All API endpoints must include error handling and input validation"
```

### File Pattern Examples

Target specific files with patterns:
- `*.js` - All JavaScript files
- `src/**/*.ts` - All TypeScript files in src directory
- `components/*.tsx` - TSX files in components folder
- `**/*.test.js` - All test files
- `api/**` - Everything in api directory

## Managing Existing Rules

### View All Rules
The Context page displays all your rules in a table showing:
- Repository name and rule description
- Type (Guided or Custom)
- Creation date
- File patterns
- Active status

### Search and Filter
Use the search bar to quickly find rules by:
- Repository name
- Rule content
- File patterns

### Delete Rules
Remove rules that are no longer needed:
1. Find the rule in the table
2. Click the delete (trash) icon
3. Confirm deletion

<Warning>
  Deleting a rule doesn't affect existing pull requests but will change how future optimizations are performed.
</Warning>

## How Context Affects Optimizations

### Without Context
Polarity uses general best practices:
- Generic optimization patterns
- Standard coding conventions
- Common security practices

### With Context
Optimizations are tailored to your needs:
- Follows your coding standards
- Respects project architecture
- Maintains consistency with existing code
- Applies team-specific preferences

## Repository vs Global Rules

### Repository-Specific Rules
- Apply only to selected repository
- Override global rules for that repo
- Ideal for project-specific requirements

### Global Rules (All Repositories)
- Apply to every connected repository
- Provide baseline standards
- Repository rules take precedence

<Note>
  **Best Practice**: Use global rules for company-wide standards and repository-specific rules for project requirements.
</Note>

## Team Context Sharing

<Info>
  **Team Feature**: When you create an account, you start with your own individual "team". When you join an actual team, your individual subscription is canceled and you share the team's context rules.
</Info>

### How Team Context Works
- Team admins manage shared contexts
- All team members benefit from the same rules
- Ensures consistent optimizations across the team
- Members can view but not edit team contexts

## Best Practices

### Start Simple
1. Begin with guided context for basic setup
2. Add custom rules as needed
3. Refine based on optimization results

### Be Specific
- Clear, actionable instructions work best
- Avoid vague preferences
- Include examples when possible

### Regular Updates
- Review rules quarterly
- Update when project requirements change
- Remove outdated rules

### Test and Iterate
- Monitor optimization quality
- Adjust rules based on results
- Get team feedback on generated PRs

## Common Use Cases

### Frontend Projects
```
"Use semantic HTML5 elements"
"Implement responsive design with mobile-first approach"
"Ensure WCAG 2.1 AA accessibility compliance"
```

### Backend Services
```
"Include rate limiting on all API endpoints"
"Log all database queries for debugging"
"Use dependency injection for better testability"
```

### Security-Critical Applications
```
"Sanitize all user inputs before processing"
"Never log sensitive data like passwords or tokens"
"Use parameterized queries to prevent SQL injection"
```

## Troubleshooting

### Rules Not Being Applied
- Verify rule is active (green badge)
- Check file patterns match target files
- Ensure repository is correctly selected
- Wait for next optimization run

### Conflicting Rules
- Repository rules override global rules
- More specific patterns take precedence
- Review and consolidate similar rules

### Poor Optimization Results
- Make rules more specific
- Add additional context
- Check for contradicting instructions
- Contact support for assistance

## FAQ

<AccordionGroup>
<Accordion title="How many rules can I create?">
You can create unlimited rules. However, too many rules might slow processing. We recommend 10-20 well-crafted rules per repository.
</Accordion>

<Accordion title="When do rule changes take effect?">
Rule changes apply immediately to all new optimizations. Existing pull requests are not affected.
</Accordion>

<Accordion title="Can I export/import rules?">
Currently, rules must be created through the UI. Export/import functionality is on our roadmap.
</Accordion>

<Accordion title="Do rules affect all file types?">
Rules apply to all supported file types unless you specify file patterns to limit scope.
</Accordion>
</AccordionGroup>

## Need Help?

For assistance with context and rules:
- Email: support@polarity.cc
- Check example rules in documentation
- Review guided context options
- Contact support for custom requirements